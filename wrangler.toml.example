name = "skillport-connector"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[vars]
# Configure your marketplace repo here (required)
MARKETPLACE_REPO = "your-org/your-marketplace"

# KV namespaces - create with wrangler and update IDs
# wrangler kv namespace create OAUTH_KV
# wrangler kv namespace create API_KEYS
[[kv_namespaces]]
binding = "OAUTH_KV"
id = "YOUR_OAUTH_KV_NAMESPACE_ID"

[[kv_namespaces]]
binding = "API_KEYS"
id = "YOUR_API_KEYS_NAMESPACE_ID"

# Durable Object for MCP server
[[durable_objects.bindings]]
name = "MCP_OBJECT"
class_name = "SkillportMCP"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["SkillportMCP"]

# Secrets (set via `wrangler secret put`)
# GOOGLE_CLIENT_ID        - Google OAuth client ID (set in vars for convenience)
# GOOGLE_CLIENT_SECRET    - Google OAuth client secret
# GITHUB_SERVICE_TOKEN    - PAT for GitHub API access
# COOKIE_ENCRYPTION_KEY   - 32+ char random string for session encryption
